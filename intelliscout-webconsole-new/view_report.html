
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Org Name - View Note</title>

    <link rel="shortcut icon" href="img/favicon.ico" />

    <!-- CSS -->
    <link href="css/normalize.css" rel="stylesheet" type="text/css">
    <link href="css/bootstrap.min.css" rel="stylesheet" type="text/css">
    <link href="css/bootstrap-tokenfield.min.css" rel="stylesheet" type="text/css">
    <link href="css/tokenfield-typeahead.min.css" rel="stylesheet" type="text/css">
    <link rel="stylesheet" href="css/font-awesome.min.css">
    <link rel="stylesheet" href="css/animate.css">
    <link href="css/custom.css" rel="stylesheet" type="text/css">
    <link href="css/media_query.css" rel="stylesheet" type="text/css">

    <!-- JS -->
    <script src="js/jquery-1.11.2.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/bootstrap-tokenfield.min.js"></script>

    <!-- Fonts -->
    <link href='http://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600' rel='stylesheet' type='text/css'>
</head>

<body id="page-top" data-spy="scroll" data-target=".navbar-fixed-top" class="body-team-activites">
    
    <!-- Navbar Main -->
    <nav class="navbar navbar-default navbar-main navbar-fixed-top">
        <div class="container-fluid">
            <div class="navbar-header">
                <!-- Toggle -->
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                    <i class="fa fa-bars"></i>
                </button>
                <!-- Logo -->
                <a class="navbar-brand page-scroll" href="index.html">
                    <img class="img-logo" src="img/org_logo.jpg">
                </a>
            </div>

            <!-- Menus -->
            <div class="collapse navbar-collapse">
                <ul class="nav navbar-nav navbar-left">
                    <li class="hidden-xs">
                        <a href="index.html">Basecamp Networks</a>
                    </li>
                </ul>
                <ul class="nav navbar-nav navbar-right">
                    <li class="">
                        <a href="#" class="navbar-right" id="global-search"><i class="fa fa-search hidden-xs"></i><span class="visible-xs">Search</span></a>
                    </li>
                    <li class="">
                        <a href="admin.html">Admin</a>
                    </li>
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Craig Ganssle <span class="caret"></span></a>
                        <ul class="dropdown-menu" role="menu">
                            <li><a href="account.html">My Account</a></li>
                            <li><a href="signin_org.html">Switch Org (no other orgs signed in)</a></li>
                            <li><a href="switch_org.html">Switch Org (has other orgs signed in)</a></li>
                            <li class="divider"></li>
                            <li><a href="signin_org.html">Log out</a></li>
                        </ul>
                    </li>
                </ul>
            </div><!--/.nav-collapse -->
        </div>
    </nav>
    
    <div id="wrapper" class="wrapper-index">
        <!-- View Report-->
        <div class="container page-view-report">
            <div class="view-report-title">
                <ol class="breadcrumb">
                    <li><a href="index.html">&laquo; Team Activites</a></li>
                    <li class="active">Craig Ganssle - April 2, 2015 23:08</li>
                </ol>
                <span class="panel-title-name h2" id="myModalLabel">Craig Ganssle - April 2, 2015 23:08</span>
                <button class="btn btn-black btn-export" id="modal-export-trigger"><i class="fa fa-share-square-o"></i> Export</button>
            </div>


            <!-- Photo Section -->
            <section class="sec-view-report">
                <div class="panel-header">
                    <span class="panel-section-icon text-left"><i class="fa fa-camera"></i></span>
                    <span class="panel-section-name">Photo</span>
                    <span class="panel-section-size text-right">11 Items, 21.2MB</span>
                </div>
                
                <div class="panel-body">   
                    <div class="row">
                        <div class="col-md-3 col-sm-6 col-xs-12" id="modal-report-to-photo-trigger">
                            <img class="img-thumbnail img-responsive clickable" src="img/photo/corn1_thumb.jpg" alt="">
                        </div>
                        <div class="col-md-3 col-sm-6 col-xs-12">
                            <img class="img-thumbnail img-responsive" src="img/photo/corn2_thumb.jpg" alt="">
                        </div>
                        <div class="col-md-3 col-sm-6 col-xs-12">
                            <img class="img-thumbnail img-responsive" src="img/photo/corn3_thumb.jpg" alt="">
                        </div>
                        <div class="col-md-3 col-sm-6 col-xs-12">
                            <img class="img-thumbnail img-responsive" src="img/photo/corn4_thumb.jpg" alt="">
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-3 col-sm-6 col-xs-12">
                            <img class="img-thumbnail img-responsive" src="img/photo/corn5_thumb.jpg" alt="">
                        </div>
                        <div class="col-md-3 col-sm-6 col-xs-12">
                            <img class="img-thumbnail img-responsive" src="img/photo/corn1_thumb.jpg" alt="">
                        </div>
                        <div class="col-md-3 col-sm-6 col-xs-12">
                            <img class="img-thumbnail img-responsive" src="img/photo/corn2_thumb.jpg" alt="">
                        </div>
                        <div class="col-md-3 col-sm-6 col-xs-12">
                            <img class="img-thumbnail img-responsive" src="img/photo/corn3_thumb.jpg" alt="">
                        </div>
                    </div>
                </div>
            </section>
            
            <!-- Video Section -->
            <section class="sec-view-report">
                <div class="panel-header">
                    <span class="panel-section-icon text-left"><i class="fa fa-video-camera"></i></span>
                    <span class="panel-section-name">Video</span>
                    <span class="panel-section-size text-right">11 Items, 21.2MB</span>
                </div>
                
                <div class="panel-body">   
                    <div class="row">
                        <div class="col-md-3 col-sm-6 col-xs-12" id="">
                            <img class="img-thumbnail img-responsive clickable" src="img/video/video1_thumb.jpg" alt="">
                        </div>
                        <div class="col-md-3 col-sm-6 col-xs-12">
                            <img class="img-thumbnail img-responsive" src="img/video/video2_thumb.jpg" alt="">
                        </div>
                        <div class="col-md-3 col-sm-6 col-xs-12">
                            <img class="img-thumbnail img-responsive" src="img/video/video3_thumb.jpg" alt="">
                        </div>
                        <div class="col-md-3 col-sm-6 col-xs-12">
                            <img class="img-thumbnail img-responsive" src="img/video/video4_thumb.jpg" alt="">
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-3 col-sm-6 col-xs-12">
                            <img class="img-thumbnail img-responsive" src="img/video/video5_thumb.jpg" alt="">
                        </div>
                        <div class="col-md-3 col-sm-6 col-xs-12">
                            <img class="img-thumbnail img-responsive" src="img/video/video1_thumb.jpg" alt="">
                        </div>
                        <div class="col-md-3 col-sm-6 col-xs-12">
                            <img class="img-thumbnail img-responsive" src="img/video/video2_thumb.jpg" alt="">
                        </div>
                        <div class="col-md-3 col-sm-6 col-xs-12">
                            <img class="img-thumbnail img-responsive" src="img/video/video3_thumb.jpg" alt="">
                        </div>
                    </div>
                </div>
            </section>
            
            <!-- Automation Section -->
            <section class="sec-view-report">
                <div class="panel-header">
                    <span class="panel-section-icon text-left"><i class="fa fa-sort-numeric-asc"></i></span>
                    <span class="panel-section-name">Automation</span>
                    <span class="panel-section-size text-right">11 Items, 21.2MB</span>
                </div>
                
                <div class="panel-body">   
                    <div class="row">
                        <div class="col-md-3 col-sm-6 col-xs-12" id="">
                            <img class="img-thumbnail img-responsive clickable" src="img/automation/automation1_counted.jpg" alt="">
                        </div>
                        <div class="col-md-3 col-sm-6 col-xs-12">
                            <img class="img-thumbnail img-responsive" src="img/automation/automation1_counted.jpg" alt="">
                        </div>
                        <div class="col-md-3 col-sm-6 col-xs-12">
                            <img class="img-thumbnail img-responsive" src="img/automation/automation1_counted.jpg" alt="">
                        </div>
                        <div class="col-md-3 col-sm-6 col-xs-12">
                            <img class="img-thumbnail img-responsive" src="img/automation/automation1_counted.jpg" alt="">
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-3 col-sm-6 col-xs-12">
                            <img class="img-thumbnail img-responsive" src="img/automation/automation1_counted.jpg" alt="">
                        </div>
                        <div class="col-md-3 col-sm-6 col-xs-12">
                            <img class="img-thumbnail img-responsive" src="img/automation/automation1_counted.jpg" alt="">
                        </div>
                        <div class="col-md-3 col-sm-6 col-xs-12">
                            <img class="img-thumbnail img-responsive" src="img/automation/automation1_counted.jpg" alt="">
                        </div>
                        <div class="col-md-3 col-sm-6 col-xs-12">
                            <img class="img-thumbnail img-responsive" src="img/automation/automation1_counted.jpg" alt="">
                        </div>
                    </div>
                </div>
            </section>

            <!-- Notes Section -->
            <section class="sec-view-report">
                <div class="panel-header">
                    <span class="panel-section-icon text-left"><i class="fa fa-file"></i></span>
                    <span class="panel-section-name">Notes</span>
                    <span class="panel-section-size text-right">11 Items, 21.2MB</span>
                </div>
                
                <div class="panel-body">
                    <div class="panel-note clickable" id="modal-report-to-note-trigger">
                        <div class="panel-note-header">
                            <span class="panel-note-title text-left">Title</span>
                            <span class="panel-note-time text-right">22:23</span>
                        </div>
                        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean massa tellus, tempus at augue at, sodales ornare odio. Nam elementum congue hendrerit. Nulla vitae sem eu risus pellentesque hendrerit. Phasellus at massa cursus, eleifend purus vel, porttitor dui. Fusce ac est faucibus, tempus leo sit amet, ullamcorper dui. Ut vestibulum purus ut pellentesque ornare. Vestibulum lacus massa, interdum non ullamcorper a, porta quis lectus.</p>
                    </div>

                    <div class="panel-note clickable" id="">
                        <div class="panel-note-header">
                            <span class="panel-note-title text-left">Title</span>
                            <span class="panel-note-time text-right">22:23</span>
                        </div>
                        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean massa tellus, tempus at augue at, sodales ornare odio. Nam elementum congue hendrerit. Nulla vitae sem eu risus pellentesque hendrerit. Phasellus at massa cursus, eleifend purus vel, porttitor dui. Fusce ac est faucibus, tempus leo sit amet, ullamcorper dui. Ut vestibulum purus ut pellentesque ornare. Vestibulum lacus massa, interdum non ullamcorper a, porta quis lectus.</p>
                    </div>
                </div>
            </section>

            <!--Comment-->
            <section class="panel-group sec-comment">
                <div class="">
                    <div class="accordion-heading">
                        <h4 class="panel-title">
                            <a class="accordion-toggle collapsed" data-toggle="collapse" data-parent="#accordion" href="#collapseModalComment" aria-expanded="false" aria-controls="collapseModalComment"><i class="fa fa-comment-o"></i> View 23 comments</a>
                        </h4>
                    </div>

                    <div class="panel-collapse collapse" id="collapseModalComment">
                        <div class="row-comment">
                            <span class="comment-name text-left">Junya Wang</span>
                            <span class="comment-time text-right">11:24</span>
                            <p>I like the first photo.</p>
                        </div>
                        <div class="row-comment">
                            <span class="comment-name text-left">Jeremy Willemse</span>
                            <span class="comment-time text-right">11:24</span>
                            <p><span class="comment-tag"><a href="#">@junya </a></span>, I like the first photo, too.</p>
                        </div>
                        <div>
                            <form class="comment-form">
                                <textarea placeholder="Write a comment..." class="textarea common"></textarea>
                                <input class="btn btn-success" type="submit" value="Post">
                            </form>
                        </div>
                    </div><!-- /.panel-collapse-->
                </div><!-- /.panel-default-->
            </section><!-- /.panel-group -->
        </div>
    </div>

    <!-- MODAL - View Photo-->
    <div class="modal fade bs-example-modal-lg row" id="modal-view-photo" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        
        <div class="col-md-1 col-md-offset-1 col-sm-1 col-sm-offset-1 col-xs-1">
            <div class="modal-back">
                <button type="button" class="btn btn-default" id="modal-photo-to-report-trigger">
                    <span class="btn-modal-close text-right" aria-hidden="true"><i class="fa fa-arrow-left"></i></span>
                </button>
            </div>
        </div>

        <div class="col-md-8 col-sm-8 col-xs-10">
            <div class="modal-dialog modal-lg">
                <div class="modal-content">
                    <div id="carousel-example-generic" class="carousel slide" data-ride="carousel">
                        <!-- Wrapper for slides -->
                        <div class="carousel-inner">
                            <div class="item active">
                                <img class="img-responsive" src="img/photo1.jpg" alt="...">
                                <div class="carousel-caption">
                                    Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean massa tellus, tempus at augue at, sodales ornare odio. Nam elementum congue hendrerit. Nulla vitae sem eu risus pellentesque hendrerit. Phasellus at massa cursus, eleifend purus vel, porttitor dui. Fusce ac est faucibus, tempus leo sit amet, ullamcorper dui. Ut vestibulum purus ut pellentesque ornare. Vestibulum lacus massa, interdum non ullamcorper a, porta quis lectus.
                                </div>
                            </div>
                            <div class="item">
                                <img class="img-responsive" src="img/photo2.jpg" alt="...">
                                <div class="carousel-caption">
                                    Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean massa tellus, tempus at augue at, sodales ornare odio. Nam elementum congue hendrerit. Nulla vitae sem eu risus pellentesque hendrerit. Phasellus at massa cursus, eleifend purus vel, porttitor dui. Fusce ac est faucibus, tempus leo sit amet, ullamcorper dui. Ut vestibulum purus ut pellentesque ornare. Vestibulum lacus massa, interdum non ullamcorper a, porta quis lectus.
                                    Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean massa tellus, tempus at augue at, sodales ornare odio. Nam elementum congue hendrerit. Nulla vitae sem eu risus pellentesque hendrerit. Phasellus at massa cursus, eleifend purus vel, porttitor dui. Fusce ac est faucibus, tempus leo sit amet, ullamcorper dui. Ut vestibulum purus ut pellentesque ornare. Vestibulum lacus massa, interdum non ullamcorper a, porta quis lectus.
                                    Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean massa tellus, tempus at augue at, sodales ornare odio. Nam elementum congue hendrerit. Nulla vitae sem eu risus pellentesque hendrerit. Phasellus at massa cursus, eleifend purus vel, porttitor dui. Fusce ac est faucibus, tempus leo sit amet, ullamcorper dui. Ut vestibulum purus ut pellentesque ornare. Vestibulum lacus massa, interdum non ullamcorper a, porta quis lectus.
                                </div>
                            </div>
                            <div class="item">
                                <img class="img-responsive" src="img/photo-portrait1.jpg" alt="...">
                                <div class="carousel-caption">
                                    Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean massa tellus, tempus at augue at, sodales ornare odio. Nam elementum congue hendrerit. Nulla vitae sem eu risus pellentesque hendrerit. Phasellus at massa cursus, eleifend purus vel, porttitor dui. Fusce ac est faucibus, tempus leo sit amet, ullamcorper dui. Ut vestibulum purus ut pellentesque ornare. Vestibulum lacus massa, interdum non ullamcorper a, porta quis lectus.
                                    Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean massa tellus, tempus at augue at, sodales ornare odio. Nam elementum congue hendrerit. Nulla vitae sem eu risus pellentesque hendrerit. Phasellus at massa cursus, eleifend purus vel, porttitor dui. Fusce ac est faucibus, tempus leo sit amet, ullamcorper dui. Ut vestibulum purus ut pellentesque ornare. Vestibulum lacus massa, interdum non ullamcorper a, porta quis lectus.
                                    Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean massa tellus, tempus at augue at, sodales ornare odio. Nam elementum congue hendrerit. Nulla vitae sem eu risus pellentesque hendrerit. Phasellus at massa cursus, eleifend purus vel, porttitor dui. Fusce ac est faucibus, tempus leo sit amet, ullamcorper dui. Ut vestibulum purus ut pellentesque ornare. Vestibulum lacus massa, interdum non ullamcorper a, porta quis lectus.
                                </div>
                            </div>
                            <a class="carousel-control left" href="#carousel-example-generic" data-slide="prev"><i class="glyphicon glyphicon-chevron-left"></i></a>
                            <a class="carousel-control right" href="#carousel-example-generic" data-slide="next"><i class="glyphicon glyphicon-chevron-right"></i></a>
                        </div>
                    </div>
                </div>
            </div><!-- / .modal-dialog -->
        </div>

        <div class="col-md-1 col-sm-1 col-xs-1">
            <div class="modal-close">
                <button type="button" class="btn btn-default" data-dismiss="modal">
                    <span class="btn-modal-close" aria-hidden="true"><i class="fa fa-times"></i></span>
                </button>
            </div>
        </div>
    </div>

    <!-- MODAL - View Note-->
    <div class="modal fade bs-example-modal-lg row" id="modal-view-note" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="col-md-1 col-md-offset-1 col-sm-1 col-sm-offset-1 col-xs-1">
            <div class="modal-back">
                <button type="button" class="btn btn-default" id="modal-note-to-report-trigger">
                    <span class="btn-modal-close text-right" aria-hidden="true"><i class="fa fa-arrow-left"></i></span>
                </button>
            </div>
        </div>

        <div class="col-md-8 col-sm-8 col-xs-10">
            <div class="modal-dialog modal-lg">
                <div class="modal-content">
                    <div class="modal-body">   
                        <div class="modal-note">
                            <div class="modal-note-header">
                                <span class="modal-note-title text-left">Title</span>
                                <span class="modal-note-time text-right">22:23</span>
                            </div>
                            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean massa tellus, tempus at augue at, sodales ornare odio. Nam elementum congue hendrerit. Nulla vitae sem eu risus pellentesque hendrerit. Phasellus at massa cursus, eleifend purus vel, porttitor dui. Fusce ac est faucibus, tempus leo sit amet, ullamcorper dui. Ut vestibulum purus ut pellentesque ornare. Vestibulum lacus massa, interdum non ullamcorper a, porta quis lectus.</p>

                            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean massa tellus, tempus at augue at, sodales ornare odio. Nam elementum congue hendrerit. Nulla vitae sem eu risus pellentesque hendrerit. Phasellus at massa cursus, eleifend purus vel, porttitor dui. Fusce ac est faucibus, tempus leo sit amet, ullamcorper dui. Ut vestibulum purus ut pellentesque ornare. Vestibulum lacus massa, interdum non ullamcorper a, porta quis lectus.</p>

                            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean massa tellus, tempus at augue at, sodales ornare odio. Nam elementum congue hendrerit. Nulla vitae sem eu risus pellentesque hendrerit. Phasellus at massa cursus, eleifend purus vel, porttitor dui. Fusce ac est faucibus, tempus leo sit amet, ullamcorper dui. Ut vestibulum purus ut pellentesque ornare. Vestibulum lacus massa, interdum non ullamcorper a, porta quis lectus.</p>
                        </div>
                    </div>
                </div>
            </div><!-- /modal-dialogue -->
        </div>

        <div class="col-md-1 col-sm-1 col-xs-1">
            <div class="modal-close">
                <button type="button" class="btn btn-default" data-dismiss="modal">
                    <span class="btn-modal-close" aria-hidden="true"><i class="fa fa-times"></i></span>
                </button>
            </div>
        </div>
    </div>

    <!-- MODAL - Export -->
    <div class="modal fade" id="modal-export" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="container">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h1>Export Field Report</h1>
                        <p>Share this field report with your colleagues and clients.</p>
                    </div>
                    <div class="modal-body">   
                        <form class="row">
                            <div class="form-group col-md-12">
                                <label>Link to share</label>
                                <p></p>
                                <input type="text" class="form-control input-share-link" value="https://orgname.intelliscout.com/craig_ganssle_201504022308" readonly="" onClick="this.setSelectionRange(0, this.value.length)">
                            </div>
                            <div class="form-group col-md-12">
                                <label>Send link to</label>
                                <input type="email" class="form-control" id="tokenfield-typeahead" placeholder="Email">
                                <textarea class="form-control" placeholder="Message (optional)"></textarea>
                            </div>
                            <button type="button" class="btn btn-success" id="">Send</button>
                            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                        </form>
                    </div>
                </div>
            </div><!-- /modal-dialogue -->
        </div>
    </div>


    <!-- Modal Toggle -->
    <script type="text/javascript">
        //********** Field Report Workflow *********//

        // Show modal-photo-to-report
        $("#modal-photo-to-report-trigger").click(function(){
            $('#modal-view-photo').modal('hide');
            $('#modal-view-report').modal('show');
        });

        // Show modal-note-to-report
        $("#modal-note-to-report-trigger").click(function(){
            $('#modal-view-note').modal('hide');
            $('#modal-view-report').modal('show');
        });

        // Show modal-report-to-photo
        $("#modal-report-to-photo-trigger").click(function(){
            $('#modal-view-report').modal('hide');
            $('#modal-view-photo').modal('show');
        });

        // Show modal-report-to-note
        $("#modal-report-to-note-trigger").click(function(){
            $('#modal-view-report').modal('hide');
            $('#modal-view-note').modal('show');
        });

        //********** Create Team Workflow *********//

        // Show createTeam-to-assignAdmin
        $("#modal-createTeam-to-assignAdmin-trigger").click(function(){
            $('#modal-assign-team-admin').modal('show');
            $('#modal-create-team').modal('hide');
        });

        // Show assignAdmin-to-createTeam
        $("#modal-assignAdmin-to-createTeam-trigger").click(function(){
            $('#modal-assign-team-admin').modal('hide');
            $('#modal-create-team').modal('show');
        });

        // Show assignAdmin-to-inviteMembers
        $("#modal-assignAdmin-to-inviteMembers-trigger").click(function(){
            $('#modal-assign-team-admin').modal('hide');
            $('#modal-invite-members').modal('show');
        });

        // Show inviteMembers-to-assignAdmin
        $("#modal-inviteMembers-to-assignAdmin-trigger").click(function(){
            $('#modal-assign-team-admin').modal('show');
            $('#modal-invite-members').modal('hide');
        });

        //********** Export Workflow *********//

        // Show report-to-export
        $("#modal-export-trigger").click(function(){
            $('#modal-export').modal('show');
            // $('#modal-view-report').modal('hide');
        });

        $("#modal-export-to-report-trigger").click(function(){
            $('#modal-export').modal('hide');
            $('#modal-view-report').modal('show');
        });
    </script>

    <!--Tokenfield for Email-->
    <script type="text/javascript">
        // $('#tokenfield-typeahead').tokenfield(); //enable tokenfield-typeahead

        // check if token's value is equal to any of the existing token's value
        $('#tokenfield-typeahead').on('tokenfield:createtoken', function (event) {
            var existingTokens = $(this).tokenfield('getTokens');
            $.each(existingTokens, function(index, token) {
                if (token.value === event.attrs.value)
                    event.preventDefault();
            });
        });

        //enable tokenfield-typeahead - email validation function
        $('#tokenfield-typeahead')
            .on('tokenfield:createtoken', function (e) {
                var data = e.attrs.value.split('|')
                e.attrs.value = data[1] || data[0]
                e.attrs.label = data[1] ? data[0] + ' (' + data[1] + ')' : data[0]
            })

            .on('tokenfield:createdtoken', function (e) {
                // Ãœber-simplistic e-mail validation
                var re = /\S+@\S+\.\S+/
                var valid = re.test(e.attrs.value)
                if (!valid) {
                    $(e.relatedTarget).addClass('invalid')
                }
            })

            .on('tokenfield:edittoken', function (e) {
                if (e.attrs.label !== e.attrs.value) {
                    var label = e.attrs.label.split(' (')
                    e.attrs.value = label[0] + '|' + e.attrs.value
                }
            })

            // Alert when removing token
            // .on('tokenfield:removedtoken', function (e) {
            //   alert('Token removed! Token value was: ' + e.attrs.value)
            // })

        .tokenfield()
    </script>

    <!-- Textarea Auto Resize -->
    <script type="text/javascript">
        (function($){    
            //pass in just the context as a $(obj) or a settings JS object
            $.fn.autogrow = function(opts) {
                var that = $(this).css({overflow: 'hidden', resize: 'none'}) //prevent scrollies
                    , selector = that.selector
                    , defaults = {
                        context: $(document) //what to wire events to
                        , animate: true //if you want the size change to animate
                        , speed: 200 //speed of animation
                        , fixMinHeight: true //if you don't want the box to shrink below its initial size
                        , cloneClass: 'autogrowclone' //helper CSS class for clone if you need to add special rules
                        , onInitialize: false //resizes the textareas when the plugin is initialized
                    }
                ;
                opts = $.isPlainObject(opts) ? opts : {context: opts ? opts : $(document)};
                opts = $.extend({}, defaults, opts);
                that.each(function(i, elem){
                    var min, clone;
                    elem = $(elem);
                    //if the element is "invisible", we get an incorrect height value
                    //to get correct value, clone and append to the body. 
                    if (elem.is(':visible') || parseInt(elem.css('height'), 10) > 0) {
                        min = parseInt(elem.css('height'), 10) || elem.innerHeight();
                    } else {
                        clone = elem.clone()
                            .addClass(opts.cloneClass)
                            .val(elem.val())
                            .css({
                                position: 'absolute'
                                , visibility: 'hidden'
                                , display: 'block'
                            })
                        ;
                        $('body').append(clone);
                        min = clone.innerHeight();
                        clone.remove();
                    }
                    if (opts.fixMinHeight) {
                        elem.data('autogrow-start-height', min); //set min height                                
                    }
                    elem.css('height', min);
                    
                    if (opts.onInitialize && elem.length) {
                        resize.call(elem[0]);
                    }
                });
                opts.context
                    .on('keyup paste', selector, resize)
                ;
            
                function resize (e){
                    var box = $(this)
                        , oldHeight = box.innerHeight()
                        , newHeight = this.scrollHeight
                        , minHeight = box.data('autogrow-start-height') || 0
                        , clone
                    ;
                    if (oldHeight < newHeight) { //user is typing
                        this.scrollTop = 0; //try to reduce the top of the content hiding for a second
                        opts.animate ? box.stop().animate({height: newHeight}, opts.speed) : box.innerHeight(newHeight);
                    } else if (!e || e.which == 8 || e.which == 46 || (e.ctrlKey && e.which == 88)) { //user is deleting, backspacing, or cutting
                        if (oldHeight > minHeight) { //shrink!
                            //this cloning part is not particularly necessary. however, it helps with animation
                            //since the only way to cleanly calculate where to shrink the box to is to incrementally
                            //reduce the height of the box until the $.innerHeight() and the scrollHeight differ.
                            //doing this on an exact clone to figure out the height first and then applying it to the
                            //actual box makes it look cleaner to the user
                            clone = box.clone()
                                //add clone class for extra css rules
                                .addClass(opts.cloneClass)
                                //make "invisible", remove height restriction potentially imposed by existing CSS
                                .css({position: 'absolute', zIndex:-10, height: ''}) 
                                //populate with content for consistent measuring
                                .val(box.val()) 
                            ;
                            box.after(clone); //append as close to the box as possible for best CSS matching for clone
                            do { //reduce height until they don't match
                                newHeight = clone[0].scrollHeight - 1;
                                clone.innerHeight(newHeight);
                            } while (newHeight === clone[0].scrollHeight);
                            newHeight++; //adding one back eliminates a wiggle on deletion 
                            clone.remove();
                            box.focus(); // Fix issue with Chrome losing focus from the textarea.
                            
                            //if user selects all and deletes or holds down delete til beginning
                            //user could get here and shrink whole box
                            newHeight < minHeight && (newHeight = minHeight);
                            oldHeight > newHeight && opts.animate ? box.stop().animate({height: newHeight}, opts.speed) : box.innerHeight(newHeight);
                        } else { //just set to the minHeight
                            box.innerHeight(minHeight);
                        }
                    } 
                }
                return that;
            }
        })(jQuery);
        $('textarea').autogrow({onInitialize: true, animate:true});
    </script>

</body>

</html>
